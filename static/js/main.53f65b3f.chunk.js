(this.webpackJsonpjavascript_calculator=this.webpackJsonpjavascript_calculator||[]).push([[0],{13:function(e,t,a){},14:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(7),s=a.n(i),l=(a(13),a(3)),u=a(1),c=a(4),o=a(5),h=a(2),d=(a(14),/[x/+-]/),m=/[x+-/]$/,v=/[x/+]-$/,f={currentVal:"0",prevVal:"0",formula:"",currentSign:"pos",lastClicked:"",evaluated:!1},p=function e(t,a,n,r){Object(h.a)(this,e),this.keyCode=t,this.keyTrigger=a,this.id=n,this.attr=r},b=[new p(46,"AC","clear","AC"),new p(111,"/","divide","operators"),new p(106,"x","multiply","operators"),new p(107,"+","add","operators"),new p(109,"-","subtract","operators"),new p(105,"9","nine","numbers"),new p(104,"8","eight","numbers"),new p(103,"7","seven","numbers"),new p(102,"6","six","numbers"),new p(101,"5","five","numbers"),new p(100,"4","four","numbers"),new p(99,"3","three","numbers"),new p(98,"2","two","numbers"),new p(97,"1","one","numbers"),new p(96,"0","zero","numbers"),new p(110,".","decimal","decimal"),new p(13,"=","equals","eval")],k=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state=f,n.maxDigitWarning=n.maxDigitWarning.bind(Object(u.a)(n)),n.handleOperators=n.handleOperators.bind(Object(u.a)(n)),n.handleNumbers=n.handleNumbers.bind(Object(u.a)(n)),n.handleDecimal=n.handleDecimal.bind(Object(u.a)(n)),n.handleEvaluate=n.handleEvaluate.bind(Object(u.a)(n)),n.initialize=n.initialize.bind(Object(u.a)(n)),n}return Object(l.a)(a,[{key:"maxDigitWarning",value:function(){var e=this;this.setState({currentVal:"Digit Limit Met",prevVal:this.state.currentVal}),setTimeout((function(){return e.setState({currentVal:e.state.prevVal})}),1e3)}},{key:"handleOperators",value:function(e){if(!this.state.currentVal.includes("Limit")){var t=this.state,a=t.formula,n=t.prevVal,r=t.evaluated;this.setState({currentVal:e,evaluated:!1}),r?this.setState({formula:n+e}):m.test(a)?v.test(a)?"-"!==e&&this.setState({formula:n+e}):this.setState({formula:(v.test(a+e)?a:n)+e}):this.setState({prevVal:a,formula:a+e})}}},{key:"handleNumbers",value:function(e){if(!this.state.currentVal.includes("Limit")){var t=this.state,a=t.currentVal,n=t.formula,r=t.evaluated;this.setState({evaluated:!1}),a.length>21?this.maxDigitWarning():r?this.setState({currentVal:e,formula:"0"!==e?e:""}):this.setState({currentVal:"0"===a||d.test(a)?e:a+e,formula:"0"===a&&"0"===e?""===n?e:n:/([^.0-9]0|^0)$/.test(n)?n.slice(0,-1)+e:n+e})}}},{key:"handleDecimal",value:function(){!0===this.state.evaluated?this.setState({currentVal:"0.",formula:"0.",evaluated:!1}):this.state.currentVal.includes(".")||this.state.currentVal.includes("Limit")||(this.setState({evaluated:!1}),this.state.currentVal.length>21?this.maxDigitWarning():m.test(this.state.formula)||"0"===this.state.currentVal&&""===this.state.formula?this.setState({currentVal:"0.",formula:this.state.formula+"0."}):this.setState({currentVal:this.state.currentVal+".",formula:this.state.formula+"."}))}},{key:"handleEvaluate",value:function(){if(!this.state.currentVal.includes("Limit")&&!this.state.evaluated){for(var e=this.state.formula;m.test(e);)console.log(e),e=e.slice(0,-1),console.log(e);e=e.replace(/x/g,"*");var t=Math.round(1e16*Function("return "+e)())/1e16;this.setState({currentVal:t.toString(),formula:e.replace(/\*/g,"x").replace(";","")+"="+t,prevVal:t,evaluated:!0})}}},{key:"initialize",value:function(){this.setState(f)}},{key:"render",value:function(){var e=this,t=b.map((function(t){var a;switch(t.attr){case"AC":a=e.initialize;break;case"operators":a=e.handleOperators;break;case"numbers":a=e.handleNumbers;break;case"decimal":a=e.handleDecimal;break;case"eval":a=e.handleEvaluate}return r.a.createElement(g,{keyCode:t.keyCode,keyTrigger:t.keyTrigger,key:t.id,id:t.id,attr:t.attr,update:a})}));return r.a.createElement("div",{className:"App"},r.a.createElement("div",{id:"formula"},this.state.formula),r.a.createElement("div",{id:"display"},this.state.currentVal),r.a.createElement("div",{id:"keybord"},t))}}]),a}(r.a.Component),g=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).handleKeyPress=n.handleKeyPress.bind(Object(u.a)(n)),n.activate=n.activate.bind(Object(u.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyPress)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyPress)}},{key:"handleKeyPress",value:function(e){e.keyCode===this.props.keyCode&&this.activate()}},{key:"activate",value:function(){this.props.update(this.props.keyTrigger)}},{key:"render",value:function(){return r.a.createElement("button",{id:this.props.id,onClick:this.activate,className:this.props.attr},this.props.keyTrigger)}}]),a}(r.a.Component),y=k;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t,a){e.exports=a(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.53f65b3f.chunk.js.map